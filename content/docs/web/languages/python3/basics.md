# Python Day1

## 一、Python 入门与环境搭建 (Python0 - Python1)

### 1. 为什么选择 Python？
Python 是一种解释型、面向对象、动态数据类型的高级程序设计语言。
*   **易于学习**：语法简洁，接近自然语言，代码可读性强。
*   **功能强大**：拥有丰富的标准库和第三方库（如 Pandas, NumPy, Django），适用于 Web 开发、数据分析、人工智能、自动化运维等多个领域。
*   **跨平台**：可以在 Windows, macOS, Linux 等多种操作系统上运行。

### 2. 开发环境搭建
*   **解释器安装**：
    *   **Python 官方安装包**：适合轻量级使用，需手动配置环境变量。
    *   **Anaconda**：集成了 Python 解释器、包管理工具 (conda) 以及大量常用的数据科学库，强烈推荐初学者使用，避免繁琐的依赖管理。
*   **IDE (集成开发环境)**：
    *   **PyCharm**：功能强大的专业级 Python IDE，提供代码补全、调试、版本控制等全套功能。
    *   **Sublime Text / VS Code**：轻量级文本编辑器，通过插件支持 Python 开发，启动速度快，适合编写脚本或轻量级项目。

### 3. 第一个 Python 程序
```python
# 打印 Hello World
print("Hello World")
```
Python 源文件通常以 `.py` 为后缀。在命令行中通过 `python filename.py` 运行。
*   **print() 函数补充**：
    *   `print(*objects, sep=' ', end='\n', ...)`
    *   `sep`：分隔符，默认为空格。
    *   `end`：输出结束符，默认为换行。如果想不换行输出，可以设置 `end=''`。

### 4. 编码规范
*   **文件编码**：Python 3 源码默认以 **UTF-8** 编码，支持多语言。建议在文件头部显式声明：
    ```python
    # -*- coding: utf-8 -*-
    ```
*   **缩进**：Python 使用**缩进**（通常是 4 个空格）来表示代码块，而不是大括号 `{}`。这是 Python 最显著的语法特征，强制要求代码格式整齐。

---

## 二、基础语法与变量 (Python2)

### 1. 变量 (Variable)
*   **定义**：变量是存储数据的容器。在 Python 中，变量不需要声明类型，直接赋值即可创建。
    ```python
    x = 10          # 整数
    name = "Alice"  # 字符串
    ```
*   **动态类型**：变量的类型由赋给它的值决定，且可以在运行时改变。
*   **命名规则**：
    *   只能包含字母、数字和下划线。
    *   不能以数字开头。
    *   区分大小写。
    *   不能使用 Python 关键字（如 `if`, `class`, `def` 等）。

### 2. 六大基本数据类型
Python 中有六个标准的数据类型：

| 类型名称 | 描述 | 可变性 | 示例 |
| :--- | :--- | :--- | :--- |
| **Number** (数字) | 包括 int, float, bool, complex | 不可变 | `1`, `3.14`, `True` |
| **String** (字符串) | 文本序列 | 不可变 | `"Hello"` |
| **List** (列表) | 有序的元素集合 | **可变** | `[1, 2, 3]` |
| **Tuple** (元组) | 有序的元素集合 | 不可变 | `(1, 2, 3)` |
| **Dictionary** (字典) | 无序的键值对集合 | **可变** | `{'name': 'Bob'}` |
| **Set** (集合) | 无序且不重复的元素集合 | **可变** | `{1, 2, 3}` |

### 3. 数字类型 (Number) 详解
*   **int (整型)**：Python 3 中只有一种整数类型 `int`，没有 `long`，可以表示任意大小的整数。
*   **float (浮点型)**：带小数点的数字。注意浮点数运算可能存在精度误差（如 `0.1 + 0.2 != 0.3`）。
*   **bool (布尔型)**：只有 `True` 和 `False` 两个值。在数值运算中，`True` 代表 1，`False` 代表 0。

### 4. 字符串 (String) 详解
*   **定义**：使用单引号 `'` 或双引号 `"` 括起来。多行字符串使用三引号 `'''` 或 `"""`。
*   **转义字符**：使用反斜杠 `\` 转义特殊字符。
    *   `\n`：换行
    *   `\t`：制表符
    *   `\\`：反斜杠本身
*   **原始字符串**：在字符串前加 `r`，表示不进行转义（常用于正则表达式或文件路径）。
    ```python
    print(r"C:\User\Name")  # 输出 C:\User\Name
    ```
*   **字符串运算**：
    *   `+`：字符串拼接。
    *   `*`：字符串重复。
*   **切片与索引**：
    *   索引从 0 开始，负数索引表示从尾部倒数（-1 为最后一个）。
    *   语法：`str[start:end:step]`（左闭右开区间）。

### 5. 类型转换
Python 提供了内置函数进行显式类型转换：
*   `int(x)`：将 x 转换为整数。
*   `float(x)`：将 x 转换为浮点数。
*   `str(x)`：将 x 转换为字符串。
*   `bool(x)`：将 x 转换为布尔值（0, 空容器, None 转换为 False，其余通常为 True）。

### 6. 可变 vs 不可变对象
这是 Python 中至关重要的概念，直接影响参数传递和数据操作。

| 类型 | 状态 | 传递行为 |
| :--- | :--- | :--- |
| **不可变对象** (int, str, tuple) | 一旦创建，内容无法修改。修改变量实际上是创建新对象。 | 类似“值传递”。函数内修改参数不会影响外部变量。 |
| **可变对象** (list, dict, set) | 内容可以在原处 (in-place) 修改。 | 类似“引用传递”。函数内修改对象内容（如 append），外部变量**会**随之改变。 |

### 7. is 与 == 的区别
*   `==`：比较两个对象的**值** (value) 是否相等。
*   `is`：比较两个对象的**身份** (identity, 即内存地址) 是否相同。

```python
a = [1, 2, 3]
b = [1, 2, 3]
print(a == b)  # True，因为内容一样
print(a is b)  # False，因为是两个不同的列表对象
```

---

## 三、序列与容器：列表与元组 (Python3)

### 1. 列表 (List)
列表是 Python 中最常用的数据结构，用于存储有序的元素集合。
*   **创建**：使用方括号 `[]`。
*   **特点**：元素可以不同类型，长度可变，内容**可修改**。
*   **常用操作**：

| 方法 | 描述 | 示例 |
| :--- | :--- | :--- |
| `append(obj)` | 在列表末尾添加元素 | `lst.append(4)` |
| `insert(index, obj)` | 在指定位置插入元素 | `lst.insert(1, 'a')` |
| `pop([index])` | 移除并返回指定位置元素（默认最后） | `lst.pop()` |
| `remove(obj)` | 移除列表中第一个匹配的元素 | `lst.remove('a')` |
| `sort()` | 对列表进行原地排序 | `lst.sort()` |
| `len(lst)` | 获取列表长度 | `len(lst)` |

### 2. 元组 (Tuple)
元组与列表类似，但元组是**不可变**的。
*   **创建**：使用圆括号 `()`。**注意：只有一个元素时，必须加逗号**，如 `(1,)`，否则会被识别为括号运算。
*   **特点**：一旦创建，其内部元素（如果是不可变类型）不能被修改、添加或删除。
*   **应用场景**：
    *   保证数据安全，防止误修改。
    *   作为字典的键（因为是可哈希的）。
    *   函数返回多个值时，本质上是返回一个元组。

### 3. 列表与元组对比

| 特性 | 列表 (List) | 元组 (Tuple) |
| :--- | :--- | :--- |
| **语法** | `[]` | `()` |
| **可变性** | 可变 | 不可变 |
| **性能** | 稍慢（因为需要动态扩容） | 稍快（内存分配更高效） |
| **用途** | 存储同质数据，需要频繁增删改 | 存储异质数据，作为结构体，保证数据安全 |

---

## 四、映射与集合：字典与集合 (Python4)

### 1. 字典 (Dictionary)
字典是一种通过“键” (Key) 来读取“值” (Value) 的数据结构。
*   **创建**：使用花括号 `{}`，元素为 `key: value` 对。
    ```python
    d = {'name': 'Tom', 'age': 18}
    ```
*   **特点**：
    *   **无序**（Python 3.7+ 只有插入顺序，但逻辑上仍视为无序映射）。
    *   **键必须唯一**且为**不可变类型**（如字符串、数字、元组）。
    *   **值**可以是任意类型。
*   **常用操作**：
    *   `d[key]`：获取值，若键不存在会报错 `KeyError`。
    *   `d.get(key, default)`：安全获取值，若键不存在返回 `default`（默认为 None）。
    *   `d.keys()`：返回所有键的视图。
    *   `d.values()`：返回所有值的视图。
    *   `d.items()`：返回所有 (键, 值) 元组的视图。

### 2. 集合 (Set)
集合是一个无序的不重复元素序列。
*   **创建**：使用花括号 `{}` 或 `set()` 函数。**注意：创建空集合必须用 `set()`，因为 `{}` 是空字典。**
*   **特点**：自动去重，不支持索引。
*   **运算**：
    *   `&` (交集)
    *   `|` (并集)
    *   `-` (差集)
    *   `^` (对称差集)

---

## 五、流程控制 (Python5)

### 1. 条件判断 (if)
通过条件表达式的真假来控制代码执行路径。
```python
if condition1:
    statement1
elif condition2:
    statement2
else:
    statement3
```
*   **真值检测**：在 Python 中，以下值被视为 False：`False`, `None`, `0`, `""` (空串), `[]`, `()`, `{}`。其余大部分视为 True。

### 2. 循环结构
*   **while 循环**：在条件为真时重复执行。
    ```python
    while condition:
        do_something()
    ```
*   **for 循环**：遍历序列（如列表、元组、字符串）或其他可迭代对象。
    ```python
    for item in sequence:
        do_something(item)
    ```
*   **range() 函数**：生成数字序列，常配合 for 循环使用。
    *   `range(stop)`: 0 到 stop-1
    *   `range(start, stop)`: start 到 stop-1
    *   `range(start, stop, step)`: 指定步长

### 3. 循环控制语句
*   **break**：立即终止整个循环。
*   **continue**：跳过当前循环的剩余语句，直接进入下一次循环。
*   **pass**：空语句，用于占位，保持代码结构完整。

### 4. for-else / while-else
循环结构可以带一个 `else` 子句。当循环**正常结束**（即没有被 `break` 语句中断）时，执行 `else` 块中的代码。这在搜索特定条件的场景中非常有用。

---

## 六、函数 (Python6)

### 1. 函数定义
函数是组织好的、可重复使用的代码段。
```python
def function_name(parameters):
    """文档字符串 (docstring)"""
    function_body
    return value
```

### 2. 函数参数
Python 的参数传递非常灵活，支持以下五种方式：

1.  **位置参数**：最普通的参数，调用时按顺序传入。
    ```python
    def power(x, n): ...
    power(5, 2)
    ```
2.  **默认参数**：在定义时给参数指定默认值。
    ```python
    def func(a, b=10): ...
    ```
    **⚠️ 重要陷阱**：默认参数的值在函数定义时计算，且只计算一次。**不要使用可变对象（如列表）作为默认参数值**，否则多次调用会共享同一个对象。建议使用 `None` 作为默认值并在函数内初始化。
3.  **可变参数 (*args)**：
    *   在参数前加 `*`。
    *   接收任意数量的位置参数。
    *   在函数内部，`args` 被打包成一个**元组 (tuple)**。
    ```python
    def calc(*numbers):
        # numbers 是 (1, 2, 3)
        return sum(numbers)
    calc(1, 2, 3)
    ```
4.  **关键字参数 (**kwargs)**：
    *   在参数前加 `**`。
    *   接收任意数量的关键字参数（key=value）。
    *   在函数内部，`kwargs` 被打包成一个**字典 (dict)**。
    ```python
    def person(name, **kw):
        # kw 是 {'age': 18, 'city': 'Beijing'}
        print(name, kw)
    person('Tom', age=18, city='Beijing')
    ```
5.  **命名关键字参数 (Standalone *)**：
    *   如果要限制关键字参数的名字，就可以用命名关键字参数。
    *   使用 `*` 作为分隔符，`*` 后面的参数**必须**用关键字传入。
    ```python
    def person(name, age, *, city, job):
        print(name, age, city, job)
    
    # 正确调用：city 和 job 必须指定参数名
    person('Jack', 24, city='Beijing', job='Engineer')
    # 错误调用：person('Jack', 24, 'Beijing', 'Engineer') 会报错
    ```

### 3. 函数返回值
*   使用 `return` 语句返回结果。
*   如果没有 `return`，默认返回 `None`。
*   **多返回值**：Python 允许 `return a, b, c`，实际上是返回一个包含这三个值的**元组**。

### 4. 变量作用域
*   **局部变量**：在函数内部定义的变量，只能在函数内访问。
*   **全局变量**：在函数外部定义的变量，全局可访问。
*   **global 关键字**：若要在函数内部修改全局变量，需先用 `global` 声明。

### 5. 匿名函数 (Lambda)
使用 `lambda` 关键字创建简洁的单行函数。
*   语法：`lambda arguments: expression`
*   示例：
    ```python
    square = lambda x: x * x
    print(square(5))  # 输出 25
    ```
*   限制：Lambda 函数体只能包含一个表达式，不能包含复杂的语句块。
